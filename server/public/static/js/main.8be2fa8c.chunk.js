(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),c=n(24),a=n.n(c),i=(n(111),n(19)),o=n.n(i),l=n(38),j=n(5),u=n(6),d=(n(113),n(114),n(115),n(45)),b=n(14);function f(e){return new Promise((function(t,n){e.then((function(e){e.ok?e.json().then((function(e){return t(e)})).catch((function(e){return n({error:"Cannot parse server response1"})})):e.json().then((function(e){return n(e)})).catch((function(e){return n({error:"Cannot parse server response2"})}))})).catch((function(e){return n({error:"Cannot communicate"})}))}))}function x(){return(x=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/workareas");case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,!t.ok){e.next=10;break}return e.abrupt("return",n);case 10:console.log("error api get all workareas");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f(fetch("/api/workareas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes");case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,!t.ok){e.next=10;break}return e.abrupt("return",n);case 10:console.log("error api get all notes");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m={getAllWorkareas:function(){return x.apply(this,arguments)},insertWorkarea:function(e){return h.apply(this,arguments)},deleteWorkarea:function(e){return fetch("/api/workareas/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},getAllNotes:function(){return O.apply(this,arguments)}},p=m,v=n(180),w=n(176),g=n(175),N=n(140),k=n(141),y=n(142),C=n(143),S=n(144),W=n(2);function L(e){var t=Object(s.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1];return Object(W.jsx)(v.a,{className:"mx-3 my-2 hover-scaleup-11"+(r&&" z-index-max"),style:{width:"300px"},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:Object(W.jsxs)(v.a.Header,{className:"d-flex "+e.ws.status+(r?" justify-content-between z-index-max":" justify-content-center"),children:[r&&Object(W.jsx)("span",{style:{width:"18px"}}),Object(W.jsx)(d.b,{to:{pathname:"/workspace",state:{currentWorkspace:e.ws}},className:"me-2 no-link-style w-100",children:Object(W.jsx)("h4",{children:e.ws.name})}),r&&Object(W.jsx)(E,{id:e.ws.id,deleteWorkspace:e.deleteWorkspace})]})})}function z(e){var t=Object(s.useState)(""),n=Object(u.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(""),i=Object(u.a)(a,2),o=i[0],l=i[1],j=Object(s.useState)(!1),d=Object(u.a)(j,2),b=d[0],f=d[1],x=function(t){t.preventDefault(),l("");var n=!0;""===r&&(n=!1,l("Please choose a name"),f(!0)),n&&(e.addNewWorkarea(r),e.onDone())};return Object(W.jsx)("div",{className:"d-flex justify-content-center my-4",children:Object(W.jsx)(v.a,{style:{width:"380px"},children:Object(W.jsx)(v.a.Header,{children:Object(W.jsxs)(w.a,{className:"d-flex justify-content-center",validated:b,onSubmit:x,children:[Object(W.jsxs)(w.a.Group,{controlId:"name",children:[Object(W.jsx)(w.a.Control,{type:"text",value:r,className:"h6-style transparent p-0 my-1 text-center",onChange:function(e){return c(e.target.value)},autoFocus:!0}),Object(W.jsx)(w.a.Control.Feedback,{type:"invalid",children:o})]}),Object(W.jsx)(N.a,{size:32,color:"#4c4c4c",className:"my-auto ms-2 cursor-pointer hover-scaleup-12",onClick:function(){return e.onClose()}}),Object(W.jsx)(k.a,{size:32,color:"#4c4c4c",className:"my-auto cursor-pointer hover-scaleup-12",onClick:function(e){return x(e)}})]})})})})}function E(e){var t=r.a.forwardRef((function(e,t){var n=e.children,s=e.onClick;return Object(W.jsx)("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),s(e)},children:n})})),n=r.a.forwardRef((function(e,t){var n=e.children,c=e.style,a=e.className,i=e["aria-labelledby"],o=Object(s.useState)(""),l=Object(u.a)(o,2),j=l[0];l[1];return Object(W.jsx)("div",{ref:t,style:c,className:a,"aria-labelledby":i,children:Object(W.jsx)("ul",{className:"list-unstyled m-0",children:r.a.Children.toArray(n).filter((function(e){return!j||e.props.children.toLowerCase().startsWith(j)}))})})}));return Object(W.jsxs)(g.a,{className:"ml-auto cursor-pointer hover-opaque z-index-max",style:{paddingTop:"4px"},children:[Object(W.jsx)(g.a.Toggle,{as:t,id:"dropdown-custom-components",children:Object(W.jsx)(y.a,{color:"#4b4b4b",size:18})}),Object(W.jsxs)(g.a.Menu,{className:"z-index-max",as:n,children:[Object(W.jsxs)(g.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){console.log("HomeWorkspaceControls -> Edit")},children:[Object(W.jsx)(C.a,{className:"mr-3",size:16}),Object(W.jsx)("span",{style:{marginLeft:"0.35rem"},children:"Edit"})]}),Object(W.jsxs)(g.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){console.log("HomeWorkspaceControls -> Delete"),e.deleteWorkspace(e.id)},children:[Object(W.jsx)(S.a,{className:"mr-3",size:16}),Object(W.jsx)("span",{style:{marginLeft:"0.35rem"},children:"Delete"})]})]})]})}var I=n(145),M=n(146);var F=function(e){var t=Object(s.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1];return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("h1",{className:"title mb-5",children:"Workspaces"}),Object(W.jsx)(I.a,{className:"d-flex flex-wrap justify-content-center",children:e.workareaList.map((function(t){return Object(W.jsx)(L,{ws:t,deleteWorkspace:e.deleteWorkarea},t.id)}))}),r?Object(W.jsx)(z,{addNewWorkarea:function(t){p.insertWorkarea({name:t}).then((function(){e.setDirty(!0)})).catch((function(e){return console.log(e)}))},onDone:function(){e.setDirty(!0),c(!1)},onClose:function(){c(!1)}}):Object(W.jsx)(M.a,{size:48,color:"#4c4c4c",className:"mx-auto my-4 cursor-pointer hover-opaque",onClick:function(){return c(!0)}})]})},D=n(9),T=n(177),A=n(91),B=n(94),H=n(179),R=n(147),G=n(148),P=n(149),q=n(150),J=n(151),V=n(152),Y=n(153),$=n(154),_=n(155);function K(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var Q={moveNote:function(e,t,n){console.log(t);var s=e.findIndex((function(e){return e.id===t.id})),r=e.findIndex((function(e){return e.id===t.previous})),c=e.findIndex((function(e){return e.id===t.after}));if(n>0){var a=e.findIndex((function(t){return t.id===e[r].previous}));0!==e[s].after?(e[a]&&(e[a].after=e[s].id),e[s].previous=e[r].previous,e[s].after=e[r].id,e[r].previous=e[s].id,e[r].after=e[c].id,e[c].previous=e[r].id):(e[a]&&(e[a].after=e[s].id),e[s].after=e[s].previous,e[s].previous=e[r].previous,e[r].previous=e[s].id,e[r].after=0)}else{var i=e.findIndex((function(t){return t.id===e[c].after}));0!==e[s].previous?(e[r].after=e[c].id,e[s].previous=e[c].id,e[s].after=e[c].after,e[c].previous=e[r].id,e[c].after=e[s].id,e[i]&&(e[i].previous=e[s].id)):(e[s].previous=e[c].id,e[s].after=e[c].after,e[c].previous=0,e[c].after=e[s].id,e[i]&&(e[i].previous=e[s].id))}return e},insertNote:function(e,t,n){var s=e.findIndex((function(e){return e.id===t.id})),r=e.findIndex((function(e){return e.id===t.after}));return e[s].after=n.id,e[r]&&(e[r].previous=n.id),n.previous=e[s].id,e[r]?n.after=e[r].id:n.after=0,e.push(n),e},getMaxId:function(e){return e.reduce((function(e,t){return e.id>t.id?e:t})).id},useWindowDimensions:function(){var e=Object(s.useState)(K()),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){function e(){r(K())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n},insertBefore:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},insertBeforeAndAfter:function(e,t,n,s,r){return e.slice(0,s)+t+e.slice(s,r)+n+e.slice(r)},getMaxSlot:function(e){var t=0;return Object.entries(e).forEach((function(e){var n=Object(u.a)(e,2),s=(n[0],n[1]);s.slot&&s.slot>t&&(t=s.slot)})),t}},U=Q;var X=function(e){var t,n=Object(b.f)();n.state&&(t=n.state.currentWorkspace);var s=e.wsWindows,r=function(t){var n=Object(j.a)({},s);s[t].show?Object.entries(s).forEach((function(e){var r=Object(u.a)(e,2),c=r[0],a=r[1];"nWsWindows"===c?n[c]=a-1:a.slot>s[t].slot?n[c]=Object(j.a)(Object(j.a)({},a),{},{slot:a.slot-1}):c===t&&(n[c]=Object(j.a)(Object(j.a)({},a),{},{slot:void 0,show:!1}))})):n=Object(j.a)(Object(j.a)({},s),{},Object(D.a)({nWsWindows:s.nWsWindows+1},t,Object(j.a)(Object(j.a)({},s[t]),{},{slot:U.getMaxSlot(s)+1,show:!0}))),e.setWsWindows(Object(j.a)({},n))};return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(T.a,{className:"myNav",expand:"lg",ref:e.elementRef,children:Object(W.jsx)(I.a,{children:"/"===n.pathname?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(T.a.Brand,{children:Object(W.jsx)("h3",{children:"finTHESIS"})}),Object(W.jsxs)(w.a,{className:"d-flex",children:[Object(W.jsx)(A.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search"}),Object(W.jsx)(B.a,{variant:"outline-success",children:"Search"})]})]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("span",{className:"d-flex align-items-center",children:[Object(W.jsx)(d.b,{to:"/",className:"no-link-style hover-scaleup-12 me-3",children:Object(W.jsx)(R.a,{size:36})}),Object(W.jsx)(T.a.Brand,{children:Object(W.jsx)("h3",{children:t.name})})]}),Object(W.jsxs)(H.a,{style:{display:"flex",flexDirection:"row"},children:[Object(W.jsxs)(H.a.Link,{className:"icon-button",onClick:function(){return r("notebook")},children:[s.notebook.show?Object(W.jsx)(G.a,{}):Object(W.jsx)(P.a,{}),Object(W.jsx)("br",{}),Object(W.jsx)("span",{children:"Notebook"})]}),Object(W.jsxs)(H.a.Link,{className:"icon-button",onClick:function(){return r("calendar")},children:[s.calendar.show?Object(W.jsx)(q.a,{}):Object(W.jsx)(J.a,{}),Object(W.jsx)("br",{}),Object(W.jsx)("span",{children:"Calendar"})]}),Object(W.jsxs)(H.a.Link,{className:"icon-button",onClick:function(){return r("files")},children:[s.files.show?Object(W.jsx)(V.a,{}):Object(W.jsx)(Y.a,{}),Object(W.jsx)("br",{}),Object(W.jsx)("span",{children:"Files"})]}),Object(W.jsxs)(H.a.Link,{className:"icon-button",onClick:function(){return r("reports")},children:[s.reports.show?Object(W.jsx)($.a,{}):Object(W.jsx)(_.a,{}),Object(W.jsx)("br",{}),Object(W.jsx)("span",{children:"Report"})]})]})]})})})})},Z=n(11),ee=n(157),te=n(158),ne=n(159),se=n(160),re=n(161),ce=n(162),ae=n(163),ie=n(174);function oe(e){return Object(W.jsx)(T.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(W.jsx)(I.a,{fluid:!0,children:Object(W.jsx)(w.a,{className:"d-flex",children:Object(W.jsx)(A.a,{type:"search",placeholder:"Search",value:e.search,onChange:function(t){return e.setSearch(t.target.value)},className:"me-2","aria-label":"Search"})})})})}var le=n(86);n(178),n(156);function je(e){var t=e.note,n=e.childrenNotes,r=e.filterNotes,c=e.sortNotes,a=e.moveNote,i=e.addNote,o=e.editNote,l=e.deleteNote,j=Object(s.useState)(!1),d=Object(u.a)(j,2),b=d[0],f=d[1],x=Object(s.useState)(!1),h=Object(u.a)(x,2),O=h[0],m=h[1],p=Object(s.useState)(!!t.editMode&&t.editMode),v=Object(u.a)(p,2),w=v[0],g=v[1];return Object(W.jsxs)(W.Fragment,{children:[w?Object(W.jsx)(xe,{note:t,editNote:o,deleteNote:l,setEditMode:g}):Object(W.jsxs)("div",{className:"note d-flex p-1 "+("chapter"===t.type&&"py-5"),style:{minHeight:t.text.length<50&&!t.text.includes("\n")?"2.5rem":"none"},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:[Object(W.jsx)("span",{className:"d-flex flex-row align-items-center",style:{minWidth:"42px"},children:b&&Object(W.jsx)(be,{note:t,showControls:b,setShowControls:f,moveNote:a,addNote:i})}),Object(W.jsx)(ue,{note:t,showControls:b,showChildren:O,setShowChildren:m,setEditMode:g}),b&&Object(W.jsx)(fe,{})]}),n.length>0&&O?Object(W.jsx)("div",{className:"chapter"!==t.type?"ms-4":"",children:r(c(n)).map((function(t){return Object(W.jsx)(je,{note:t,sortNotes:c,filterNotes:r,moveNote:a,addNote:i,editNote:o,deleteNote:l,ws:e.ws,noteList:e.noteList,childrenNotes:e.noteList.filter((function(n){return n.workspace===e.ws.id&&n.father===t.id}))},t.id)}))}):""]})}function ue(e){return Object(W.jsxs)("span",{className:"w-100 ms-3 text-start d-flex align-items-center "+("notegroup"===e.note.type&&"fw-bold"),onClick:function(){return""===e.note.text?e.setEditMode(!0):""},children:["note"===e.note.type&&Object(W.jsx)("span",{onClick:function(){return e.setEditMode(!0)},children:e.note.text}),"notegroup"===e.note.type&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ee.a,{size:12,style:{marginLeft:"-3px"},className:"cursor-pointer rotate-90 "+(e.showChildren&&" open"),onClick:function(){return e.setShowChildren(!e.showChildren)}}),Object(W.jsx)("span",{onClick:function(){return e.setEditMode(!0)},children:e.note.text})]}),"chapter"===e.note.type&&Object(W.jsx)("h2",{style:{marginLeft:"-3px"},children:e.note.text}),"chapter"===e.note.type&&e.showControls&&Object(W.jsx)(B.a,{variant:"light",className:"ms-3",onClick:function(){return e.setShowChildren(!e.showChildren)},children:e.showChildren?"Collapse":"Expand"}),"code"===e.note.type&&Object(W.jsx)(de,{text:"```"+e.note.text}),"image"===e.note.type&&Object(W.jsx)(de,{text:"![]("+e.note.text+")"})]})}function de(e){return Object(W.jsx)(ie.a,{className:"markdown m-0 p-0",children:e.text})}function be(e){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("span",{className:"d-flex flex-column",children:[Object(W.jsx)(te.a,{size:18,color:"#4b4b4b",className:0!==e.note.previous?"hover-opaque cursor-pointer":"opacity-07",style:{position:"relative",marginBottom:"-11px",transform:"translateY(-10px)"},onClick:function(){0!==e.note.previous&&(e.moveNote(e.note,1),e.setShowControls(!1))}}),Object(W.jsx)(ne.a,{size:18,color:"#4b4b4b",className:0!==e.note.after?"hover-opaque cursor-pointer":"opacity-07",style:{position:"relative",marginTop:"-11px",transform:"translateY(10px)"},onClick:function(){0!==e.note.after&&(e.moveNote(e.note,-1),e.setShowControls(!1))}})]}),Object(W.jsx)("span",{children:Object(W.jsx)(se.a,{size:24,color:"#4b4b4b",className:"hover-opaque cursor-pointer",style:{position:"relative"},onClick:function(){return e.addNote(e.note)}})})]})}function fe(e){var t=r.a.forwardRef((function(e,t){var n=e.children,s=e.onClick;return Object(W.jsx)("a",{href:"",ref:t,onClick:function(e){e.preventDefault(),s(e)},style:{marginTop:"-4px"},children:n})})),n=r.a.forwardRef((function(e,t){var n=e.children,c=e.style,a=e.className,i=e["aria-labelledby"],o=Object(s.useState)(""),l=Object(u.a)(o,2),j=l[0];l[1];return Object(W.jsx)("div",{ref:t,style:c,className:a,"aria-labelledby":i,children:Object(W.jsx)("ul",{className:"list-unstyled m-0",children:r.a.Children.toArray(n).filter((function(e){return!j||e.props.children.toLowerCase().startsWith(j)}))})})}));return Object(W.jsxs)(g.a,{className:"ml-auto cursor-pointer hover-opaque z-index-max d-flex align-items-center",children:[Object(W.jsx)(g.a.Toggle,{as:t,id:"dropdown-custom-components",children:Object(W.jsx)(y.a,{color:"#4b4b4b",size:18})}),Object(W.jsxs)(g.a.Menu,{className:"z-index-max",as:n,children:[Object(W.jsxs)(g.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){console.log("Notes.js NoteMenu Edit")},children:[Object(W.jsx)(C.a,{className:"mr-3",size:16}),Object(W.jsx)("span",{style:{marginLeft:"0.35rem"},children:"Edit"})]}),Object(W.jsxs)(g.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){console.log("Notes.js NoteMenu Delete")},children:[Object(W.jsx)(S.a,{className:"mr-3",size:16}),Object(W.jsx)("span",{style:{marginLeft:"0.35rem"},children:"Delete"})]})]})]})}function xe(e){var t=e.note,n=Object(s.useState)(t.text?t.text:""),r=Object(u.a)(n,2),c=r[0],a=r[1],i=Object(s.useState)(!1),o=Object(u.a)(i,2),l=o[0],j=o[1],d=function(n){n.preventDefault(),j(!1),e.editNote(t),e.setEditMode(!1)};return Object(W.jsxs)("div",{className:"note p-1 d-flex",children:[Object(W.jsx)("span",{style:{minWidth:"42px"}}),Object(W.jsx)(w.a,{className:"d-flex ms-3 w-100",onSubmit:d,children:Object(W.jsx)(w.a.Control,{type:"text",as:"textarea",value:c,className:"transparent no-borders p-0 my-1 w-100 min-height-0 resize-none",onChange:function(e){return a((n=e).target.value),j(!n.target.value),n.target.style.height="inherit",n.target.style.height="".concat(n.target.scrollHeight,"px"),void(t.text=n.target.value);var n},onKeyDown:function(n){"Backspace"===n.key&&""===c&&e.deleteNote(t)},onFocus:function(){return j(!0)},onBlur:function(e){return d(e)},autoFocus:!0})}),Object(W.jsxs)(g.a.Menu,{show:l,className:"z-index-max",style:{margin:"75px 0 0 42px"},children:[Object(W.jsxs)(g.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){console.log("Notes.js Image")},children:[Object(W.jsx)(re.a,{className:"mr-3",size:16}),Object(W.jsx)("span",{style:{marginLeft:"0.35rem"},children:"Image"})]}),Object(W.jsxs)(g.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){console.log("Notes.js Group")},children:[Object(W.jsx)(ee.a,{className:"mr-3",size:16}),Object(W.jsx)("span",{style:{marginLeft:"0.35rem"},children:"Group"})]}),Object(W.jsxs)(g.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){console.log("Notes.js Chapter")},children:[Object(W.jsx)(ce.a,{className:"mr-3",size:16}),Object(W.jsx)("span",{style:{marginLeft:"0.35rem"},children:"Chapter"})]}),Object(W.jsxs)(g.a.Item,{className:"d-flex align-items-center px-3",onClick:function(){console.log("Notes.js Code")},children:[Object(W.jsx)(ae.a,{className:"mr-3",size:16}),Object(W.jsx)("span",{style:{marginLeft:"0.35rem"},children:"Code"})]})]})]})}var he=function(e){var t,n=Object(b.f)(),r=Object(s.useState)(""),c=Object(u.a)(r,2),a=c[0],i=c[1];n.state&&(t=n.state.currentWorkspace);var o=function(e){var t,n=0,s=[];return e.forEach((function(r){s.push(e.find((function(e){return t=e.id,e.previous===n}))),n=t})),s},l=function(e){return e.filter((function(e){return e.text.toLowerCase().includes(a.toLowerCase())}))},j=function(t,n){var s=U.moveNote(e.noteList,t,n);e.setNoteList(Object(Z.a)(s))},d=function(t){var n=e.noteList,s=n.findIndex((function(e){return e.id===t.id}));n[s]=t,e.setNoteList(Object(Z.a)(n))},f=function(t){var n={id:U.getMaxId(e.noteList)+1,text:"",type:"note",workspace:t.workspace,father:t.father,editMode:!0},s=U.insertNote(e.noteList,t,n);e.setNoteList(Object(Z.a)(s))},x=function(t){var n=e.noteList,s=n.findIndex((function(e){return e.id===t.id})),r=n.findIndex((function(e){return e.id===t.previous})),c=n.findIndex((function(e){return e.id===t.after}));n[r].after=t.after,n[c].previous=t.previous,n.splice(s,1),e.setNoteList(Object(Z.a)(n))};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(oe,{search:a,setSearch:i}),l(o(e.noteList.filter((function(e){return e.workspace===t.id&&!e.father})))).map((function(n){return Object(W.jsx)(je,{note:n,sortNotes:o,filterNotes:l,moveNote:j,addNote:f,editNote:d,deleteNote:x,ws:t,noteList:e.noteList,childrenNotes:e.noteList.filter((function(e){return e.workspace===t.id&&e.father===n.id}))},n.id)}))]})},Oe=n(164),me=n(92),pe=n(165),ve=n(166),we=n(167),ge=n(168),Ne=n(169),ke=n(170),ye=n(171),Ce=n(172),Se=n(173);function We(e){return Object(s.useEffect)((function(){var t=document.getElementById("md-textarea");return document.addEventListener("selectionchange",(function(){e.setSelection({start:t.selectionStart,end:t.selectionEnd})})),t.addEventListener("selectionchange",(function(){e.setSelection({start:t.selectionStart,end:t.selectionEnd})})),function(){document.removeEventListener("selectionchange",(function(){e.setSelection({start:t.selectionStart,end:t.selectionEnd})})),t.removeEventListener("selectionchange",(function(){e.setSelection({start:t.selectionStart,end:t.selectionEnd})}))}}),[]),Object(W.jsx)(w.a.Control,{id:"md-textarea",type:"text",as:"textarea",className:"textarea transparent h-100",value:e.text,onChange:function(t){e.setText(t.target.value)}})}function Le(e){var t=e.text,n=e.selection,s=function(s){var r="";switch(s){case"h1":r=U.insertBefore(t,"# ",n.start);break;case"bold":r=U.insertBeforeAndAfter(t,"**","**",n.start,n.end);break;case"italic":r=U.insertBeforeAndAfter(t,"*","*",n.start,n.end);break;case"underline":r=U.insertBeforeAndAfter(t,"<ins>","</ins>",n.start,n.end);break;case"code":r=U.insertBeforeAndAfter(t,"```\n","\n```",n.start,n.end);break;case"table":r=U.insertBefore(t,"| Syntax      | Description | Test Text     |\n| :---        |    :----:   |          ---: |\n| Header      | Title       | Here's this   |\n| Paragraph   | Text        | And more      |",n.start);break;case"link":r=U.insertBefore(t,"[Site Name](https://sitename.com)",n.start);break;case"image":r=U.insertBefore(t,"![cGAN!](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/526744/4f90a48f-d6d6-1c69-1a09-3ae44040da0e.jpeg)",n.start)}e.setText(r)};return Object(W.jsx)(v.a,{children:Object(W.jsxs)(Oe.a,{style:{display:"flex",alignItems:"center"},children:[Object(W.jsxs)(me.a,{children:[Object(W.jsx)(R.a,{className:"icon-button",size:26}),Object(W.jsx)(pe.a,{className:"icon-button",size:26}),Object(W.jsx)(ve.a,{className:"icon-button",size:26})]}),Object(W.jsx)(W.Fragment,{children:"|"}),Object(W.jsxs)(me.a,{children:[Object(W.jsx)(we.a,{className:"icon-button",onClick:function(){return s("bold")},size:20}),Object(W.jsx)(ge.a,{className:"icon-button",onClick:function(){return s("italic")},size:20}),Object(W.jsx)(Ne.a,{className:"icon-button",onClick:function(){return s("underline")},size:20})]}),Object(W.jsx)(W.Fragment,{children:"|"}),Object(W.jsxs)(me.a,{children:[Object(W.jsx)(ke.a,{className:"icon-button",onClick:function(){return s("h1")},size:20}),Object(W.jsx)(ae.a,{className:"icon-button",onClick:function(){return s("code")},size:20}),Object(W.jsx)(ye.a,{className:"icon-button",onClick:function(){return s("table")},size:20}),Object(W.jsx)(Ce.a,{className:"icon-button",onClick:function(){return s("link")},size:20}),Object(W.jsx)(re.a,{className:"icon-button",onClick:function(){return s("image")},size:20})]}),Object(W.jsx)(W.Fragment,{children:"|"}),Object(W.jsxs)(me.a,{children:[Object(W.jsx)(Se.a,{className:"icon-button",size:20}),Object(W.jsx)(B.a,{size:"sm",style:{borderRadius:"80px"},onClick:function(){return e.setPreview(!e.preview)},children:"Preview"})]})]})})}var ze=function(e){var t=Object(s.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(""),i=Object(u.a)(a,2),o=i[0],l=i[1],j=Object(s.useState)({start:0,end:0}),d=Object(u.a)(j,2),b=d[0],f=d[1];return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Le,{preview:r,setPreview:c,selection:b,text:o,setText:l}),r?Object(W.jsx)(ie.a,{className:"markdown",style:{maxWidth:"80vw"},children:o}):Object(W.jsx)(We,{className:"h-100",text:o,setText:l,setSelection:f})]})},Ee=n(80),Ie=n(100),Me=n(101),Fe=0,De=(new Date).toISOString().replace(/T.*$/,"");Te(),Te();function Te(){return String(Fe++)}var Ae=function(e){var t=Object(s.useState)(!0),n=Object(u.a)(t,2),c=n[0],a=(n[1],Object(s.useState)(e.noteList.map((function(e){return{id:e.id,title:e.text,start:e.insert_date}})))),i=Object(u.a)(a,2),o=i[0],l=i[1],j=r.a.createRef();return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("div",{style:{mmaxHeight:"50%",maxWidth:"100%"},children:Object(W.jsx)(le.a,{plugins:[Ee.b,Ie.a,Me.a],headerToolbar:{left:"prev,today,next",center:"title",right:"dayGridMonth,timeGridDay"},initialView:"dayGridMonth",editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,ref:j,weekends:c,initialEvents:o,dateClick:function(e){var t=j.current.getApi();t.changeView("timeGridDay"),t.gotoDate(e.dateStr)},eventContent:function(e){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("b",{children:e.timeText}),Object(W.jsxs)("i",{children:[" ",e.event.title]})]})},eventClick:function(e){},eventsSet:function(e){l(e)}})})})};var Be=function(){var e=Object(s.useState)(),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(!1),a=Object(u.a)(c,2),i=a[0],o=a[1],l=Object(s.useState)([]),j=Object(u.a)(l,2),d=j[0],b=j[1],f=(new Date).toISOString().replace(/T.*$/,"");return Object(W.jsxs)("div",{children:[Object(W.jsxs)(Oe.a,{children:[Object(W.jsx)(me.a,{children:Object(W.jsxs)(w.a.Group,{controlId:"formFileMultiple",className:"mb-3",onChange:function(e){r(e.target.files[0]),o(!0)},children:[Object(W.jsx)(w.a.Label,{children:"Multiple files input "}),Object(W.jsx)(w.a.Control,{type:"file",multiple:!0})]})}),Object(W.jsxs)(me.a,{children:[i?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("p",{children:["Filename: ",n.name]}),Object(W.jsxs)("p",{children:["Filetype: ",n.type]}),Object(W.jsxs)("p",{children:["Size in bytes: ",n.size]}),Object(W.jsxs)("p",{children:["lastModifiedDate:"," ",f]})]}):Object(W.jsx)("p",{children:"Select a file to show details"}),Object(W.jsx)("div",{children:Object(W.jsx)("button",{onClick:function(){b([].concat(Object(Z.a)(d),[n])),console.log(d)},children:"Submit"})})]})]}),Object(W.jsx)(Oe.a,{children:d.map((function(e){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("a",{href:e,target:"_blank",children:e.name}),Object(W.jsx)("embed",{src:e,width:"800px",height:"2100px"})]})}))})]})};var He=function(e){var t=U.useWindowDimensions(),n=t.height,s=(t.width,e.wsWindows),r=function(t,n){var r=Object(j.a)({},s);2===t&&4===n&&3===s.nWsWindows&&(n=3),Object.entries(s).forEach((function(e){var s=Object(u.a)(e,2),c=s[0],a=s[1];a.slot===t?r[c]=Object(j.a)(Object(j.a)({},a),{},{slot:n}):a.slot===n&&(r[c]=Object(j.a)(Object(j.a)({},a),{},{slot:t}))})),e.setWsWindows(Object(j.a)({},r))};return s.notebook.component=Object(W.jsx)(v.a,{className:"ws-window",style:{maxHeight:s.nWsWindows<3?"100%":"49%"},children:Object(W.jsx)(he,{noteList:e.noteList,setNoteList:e.setNoteList})},4),s.calendar.component=Object(W.jsx)(v.a,{className:"ws-window",style:{maxHeight:s.nWsWindows<3?"100%":"49%"},children:Object(W.jsx)(Ae,{noteList:e.noteList})},2),s.files.component=Object(W.jsx)(v.a,{className:"ws-window",style:{maxHeight:s.nWsWindows<3?"100%":"49%"},children:Object(W.jsx)(Be,{})},3),s.reports.component=Object(W.jsx)(v.a,{className:"ws-window",style:{maxHeight:s.nWsWindows<3?"100%":"49%"},children:Object(W.jsx)(ze,{reportList:e.noteList})},1),Object(W.jsxs)(W.Fragment,{children:[s.nWsWindows>2&&Object(W.jsx)(B.a,{onClick:function(){return r(1,3)},children:"SwitchLeft"}),s.nWsWindows>1&&Object(W.jsx)(B.a,{onClick:function(){return r(1,2)},children:"SwitchTop"}),s.nWsWindows>2&&Object(W.jsx)(B.a,{onClick:function(){return r(2,4)},children:"SwitchRight"}),Object(W.jsx)(I.a,{fluid:!0,className:"d-flex flex-wrap pb-3",style:{height:n-e.navHeight-20+"px"},children:Object.entries(s).filter((function(e){var t=Object(u.a)(e,2),n=t[0],s=t[1];return"nWsWindows"!==n&&s.show})).sort((function(e,t){return e[1].slot-t[1].slot})).map((function(e){var t=Object(u.a)(e,2);t[0];return t[1].component}))}),s.nWsWindows>3&&Object(W.jsx)(B.a,{onClick:function(){return r(3,4)},children:"SwitchBottom"})]})};var Re=function(){var e=Object(s.useState)(!0),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)([]),a=Object(u.a)(c,2),i=a[0],f=a[1],x=Object(s.useState)([]),h=Object(u.a)(x,2),O=h[0],m=h[1],v=Object(s.useState)([]),w=Object(u.a)(v,2),g=w[0],N=(w[1],Object(s.useState)({nWsWindows:1,notebook:{show:!0,slot:1},calendar:{show:!1},files:{show:!1},reports:{show:!1}})),k=Object(u.a)(N,2),y=k[0],C=k[1],S=Object(s.useState)(0),L=Object(u.a)(S,2),z=L[0],E=L[1],I=Object(s.useRef)(null);Object(s.useEffect)((function(){E(I.current.clientHeight)}),[]),Object(s.useEffect)((function(){n&&(p.getAllWorkareas().then((function(e){return f(e)})),p.getAllNotes().then((function(e){return m(e)})),r(!1))}),[n]);var M=function(e){function t(){return(t=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.deleteWorkarea(t);case 2:"success"===e.sent.status&&r(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}f((function(t){return t.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{status:"deleting"}):t}))})),function(e){t.apply(this,arguments)}(e)};return Object(W.jsx)(d.a,{children:Object(W.jsxs)("div",{className:"App",children:[Object(W.jsx)(X,{wsWindows:y,setWsWindows:C,elementRef:I}),Object(W.jsxs)(b.c,{children:[Object(W.jsx)(b.a,{exact:!0,path:"/",render:function(){return Object(W.jsx)(F,{workareaList:i,setDirty:r,deleteWorkarea:M})}}),Object(W.jsx)(b.a,{path:"/workspace",render:function(){return Object(W.jsx)(He,{noteList:O,setNoteList:m,reportList:g,wsWindows:y,setWsWindows:C,navHeight:z})}})]})]})})},Ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,181)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),c(e),a(e)}))};a.a.render(Object(W.jsx)(r.a.StrictMode,{children:Object(W.jsx)(Re,{})}),document.getElementById("root")),Ge()}},[[131,1,2]]]);
//# sourceMappingURL=main.8be2fa8c.chunk.js.map